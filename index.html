<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Portfolio Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=VT323&family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#040404;
      --glass:#0b0b0f;
      --panel:#101013;
      --text:#f0e6d2;
      --muted:#a79c8c;
      --accent:#f3d196;
      --link:#f7dca9;
      --danger:#ff8c7b;
      --scanline:rgba(255,255,255,0.03);
      --glow:rgba(243,209,150,0.12);
    }
    * { box-sizing: border-box }
    ::selection { background:rgba(243,209,150,0.25); color:var(--text); }
    html, body {
      height:100%;
      margin:0;
      background:radial-gradient(circle at top, rgba(243,209,150,0.04), transparent 55%), var(--bg);
      color:var(--text);
      font:17px/1.6 'Courier Prime','IBM Plex Mono','Source Code Pro',monospace;
      letter-spacing:0.35px;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }
    strong { font-family:'Courier Prime','IBM Plex Mono','Source Code Pro',monospace; font-weight:700; letter-spacing:0.25px; }
    body::before {
      content:"";
      position:fixed;
      inset:0;
      background:repeating-linear-gradient(0deg, transparent 0, transparent 2px, var(--scanline) 2px, var(--scanline) 4px);
      pointer-events:none;
      opacity:0.35;
      mix-blend-mode:screen;
    }
    body::after {
      content:"";
      position:fixed;
      inset:0;
      background:radial-gradient(circle at top center, rgba(255,255,255,0.18), transparent 70%);
      mix-blend-mode:overlay;
      pointer-events:none;
      opacity:0.12;
    }
    .wrap {
      max-width:960px;
      margin:0 auto;
      padding:48px 24px 32px;
      height:100%;
      display:flex;
      flex-direction:column;
      gap:16px;
    }
    .chrome {
      border-radius:18px;
      background:linear-gradient(150deg, rgba(32,28,22,0.92), rgba(10,10,12,0.92));
      box-shadow:0 40px 120px rgba(0,0,0,0.6), inset 0 0 24px rgba(243,209,150,0.05);
      border:1px solid rgba(243,209,150,0.12);
      display:flex;
      flex-direction:column;
      flex:1;
      overflow:hidden;
      position:relative;
    }
    .chrome::before {
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(120deg, rgba(243,209,150,0.08), transparent 30%, rgba(243,209,150,0.05));
      opacity:0.18;
      pointer-events:none;
    }
    header {
      position:relative;
      z-index:2;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:16px 20px 12px;
      background:rgba(12,12,18,0.9);
      border-bottom:1px solid rgba(243,209,150,0.14);
      box-shadow:0 10px 30px rgba(0,0,0,0.35);
    }
    .leds {
      display:flex;
      gap:8px;
      align-items:center;
    }
    .led {
      width:12px;
      height:12px;
      border-radius:50%;
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.65), rgba(255,80,80,0.7));
      box-shadow:0 0 8px rgba(255,80,80,0.65);
    }
    .led:nth-child(2) {
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.65), rgba(255,193,59,0.7));
      box-shadow:0 0 8px rgba(255,193,59,0.6);
    }
    .led:nth-child(3) {
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), rgba(140,235,167,0.75));
      box-shadow:0 0 8px rgba(140,235,167,0.6);
    }
    header .brand {
      color:var(--accent);
      font-size:22px;
      letter-spacing:1.5px;
      text-shadow:0 0 6px rgba(243,209,150,0.4);
      font-family:'VT323','Courier Prime',monospace;
    }
    header .btns {
      display:flex;
      gap:10px;
      align-items:center;
    }
    button, .pill {
      background:rgba(15,15,20,0.7);
      color:var(--text);
      border:1px solid rgba(250,220,180,0.18);
      border-radius:999px;
      padding:6px 14px;
      cursor:pointer;
      font:16px 'Courier Prime','IBM Plex Mono',monospace;
      transition:all .2s ease;
      backdrop-filter:blur(6px);
    }
    button:hover, .pill:hover {
      border-color:rgba(250,220,180,0.35);
      box-shadow:0 0 12px rgba(243,209,150,0.24);
    }
    .pill {
      opacity:0.65;
    }
    .terminal {
      flex:1;
      position:relative;
      border:1px solid rgba(243,209,150,0.14);
      border-radius:16px;
      background:rgba(8,8,12,0.75);
      padding:24px;
      overflow:auto;
    }
    .terminal::-webkit-scrollbar {
      width:6px;
      background:rgba(255,255,255,0.05);
    }
    .terminal::-webkit-scrollbar-thumb {
      background:rgba(243,209,150,0.2);
      border-radius:3px;
    }
    .line {
      white-space:pre-wrap;
      word-break:break-word;
      margin:0 0 12px 0;
      position:relative;
    }
    .line::after {
      content:"";
      position:absolute;
      inset:0;
      opacity:0;
      transition:opacity .3s ease;
      background:rgba(243,209,150,0.04);
      pointer-events:none;
    }
    .line:hover::after { opacity:1; }
    .sys { color:var(--muted); opacity:0.65; font-style:italic; font-size:15px; }
    .prompt-tag { color:var(--accent); margin-right:10px; display:inline-block; }
    .assistant { color:var(--text); text-shadow:0 0 6px rgba(243,209,150,0.08); }
    .assistant.streaming::after { display:none; }
    .danger { color:var(--danger) }
    .prompt {
      display:flex;
      gap:12px;
      align-items:center;
      padding:16px 22px;
      border:1px solid rgba(243,209,150,0.16);
      border-radius:14px;
      background:rgba(10,10,12,0.88);
      font-size:20px;
      box-shadow:0 18px 40px rgba(0,0,0,0.55);
      margin:18px 22px 26px;
    }
    .prompt-prefix {
      color:var(--accent);
      white-space:nowrap;
    }
    .prompt input {
      flex:1;
      background:transparent;
      border:none;
      outline:none;
      color:var(--text);
      font:inherit;
      caret-color:var(--accent);
    }
    .caret {
      width:9px;
      height:1.3em;
      background:var(--accent);
      animation:blink 1.1s steps(1) infinite;
      box-shadow:0 0 6px rgba(243,209,150,0.7);
    }
    @keyframes blink { 50% { opacity:0; } }
    .kbd {
      color:var(--text);
      background:rgba(15,15,20,0.55);
      border:1px solid rgba(243,209,150,0.18);
      border-radius:8px;
      padding:2px 6px;
      margin:0 2px;
      opacity:0.6;
    }
    .hints {
      position:absolute;
      bottom:120px;
      right:24px;
      display:flex;
      flex-direction:column;
      gap:8px;
      font-size:16px;
      z-index:2;
    }
    .hint {
      background:rgba(25,25,30,0.72);
      border:1px solid rgba(243,209,150,0.16);
      color:var(--text);
      border-radius:14px;
      padding:6px 12px;
      opacity:0.7;
      backdrop-filter:blur(6px);
      transition:opacity .2s ease, border-color .2s ease;
    }
    .hint:hover {
      opacity:0.95;
      border-color:rgba(243,209,150,0.32);
    }
    a { color:var(--link); text-decoration:underline; }
    .footer {
      color:var(--muted);
      font-size:14px;
      text-align:center;
      opacity:0.78;
      letter-spacing:1px;
    }
    .small { font-size:14px }
    .hidden { display:none }
    @media (max-width:720px) {
      .wrap { padding:32px 16px; }
      header { flex-direction:column; gap:14px; align-items:flex-start; }
      .hints { position:static; flex-direction:row; flex-wrap:wrap; justify-content:center; padding:0 20px 16px; margin-top:12px; }
      .prompt { flex-wrap:wrap; gap:8px; padding:14px 16px; margin:16px; }
      .prompt-prefix { font-size:18px; }
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="chrome">
  <header>
      <div class="leds">
        <span class="led"></span>
        <span class="led"></span>
        <span class="led"></span>
      </div>
    <div class="brand">Aashna's Portfolio Terminal</div>
    <div class="btns">
        <span class="pill small">type <span class="kbd">help</span></span>
      <button id="copyLast">Copy last</button>
      <button id="clearBtn">Clear</button>
    </div>
  </header>

  <div id="term" class="terminal" aria-live="polite"></div>



  
  <div class="prompt">
      <span class="prompt-prefix">guest@aashnasportfolio:~$</span>
      <input id="input" autocomplete="off" spellcheck="false" placeholder="Type a command or type `help`"/>
    <div class="caret"></div>
    </div>
  </div>

  <div class="footer small">↑/↓ history • <span class="kbd">Tab</span> autocomplete • <span class="kbd">Ctrl+R</span> search • <span class="kbd">Ctrl+L</span> clear • <span class="kbd">|</span> pipe/grep</div>
</div>

<script>
/* ========= 1) Structured knowledge base ========= */
const KB = {
  profile: {
    name: "Aashna Kunkolienker",
    title: "AI Engineer building agentic workflows",
    location: "Dublin / SF Bay Area, California",
    email: "aashnakunk@gmail.com",
    summary: [
      "AI engineer focused on Google ADK/Gemini agentic systems with governance-first enterprise delivery.",
      "Background spans cloud ML pipelines, multi-agent orchestration, connectors, and GPU acceleration.",
      "Musician and storyteller who enjoys blending creative tech with user-centric design."
    ]
  },
  socials: {
    portfolio: "https://www.aashnakunk.com",
    github: "https://github.com/aashnakunk",
    linkedin: "https://www.linkedin.com/in/aashnakunk/",
    medium: "https://medium.com/@aashnakunk",
    instagram: "https://www.instagram.com/aashnakunkolienkar",
    youtube: "https://www.youtube.com/@aashnakunk"
  },
  siteSections: {
    home: "https://www.aashnakunk.com",
    about: "https://www.aashnakunk.com/#about",
  projects: "https://www.aashnakunk.com/s-projects-basic",
    blogs: "https://www.aashnakunk.com/blogs",
  resume: "https://www.aashnakunk.com/resume",
    music: "https://www.aashnakunk.com/music",
  contact: "https://www.aashnakunk.com/contact"
  },
  skills: {
    languages: ["Python", "C/C++", "Java", "JavaScript", "SQL", "CUDA C"],
    ml: ["LangGraph", "LangChain", "Google ADK", "Gemini Enterprise", "TensorFlow", "PyTorch", "LLMs", "RAG pipelines", "AgentOps"],
    cloud: ["Google Cloud (Vertex AI, BigQuery)", "AWS (Bedrock, SageMaker)", "Kubernetes", "Spark", "Snowflake"],
    domains: ["Agentic AI", "RAG", "Enterprise search", "Data connectors", "LLM observability", "Multi-agent systems"]
  },
  experiences: [
    {
      company: "Searce",
      role: "AI Engineer",
      timeline: "Jul 2025 – Present",
      location: "San Ramon, California",
      focus: "Agentic AI, RAG pipelines, LLMs, AgentOps, enterprise search",
      highlights: [
        "Designed multi-agent workflows on Google ADK + Gemini Enterprise with adaptive context routing and RAG pipelines for enterprise knowledge retrieval.",
        "Led delivery of enterprise search agents by shipping connectors for ServiceNow, Aha!, Snowflake with ACL-aware governance.",
        "Building ML + agentic pipelines to improve patient cost estimation accuracy for a dental insurance provider.",
        "Implemented AgentOps observability and monitoring for production LLM agents, tracking performance, costs, and reliability metrics."
      ],
      tags: ["agentic-ai", "connectors", "healthcare", "gcp", "governance", "rag", "llm", "agentops", "ml", "ai"]
    },
    {
      company: "BalanceAI",
      role: "Founding Software Engineer",
      timeline: "May 2025 – Jul 2025",
      location: "San Jose, California (Remote)",
      focus: "Energy optimization, LangGraph agents",
      highlights: [
        "Shipped AWS-backed ML pipeline for HVAC control merging Tuya sensor data with forecasting models.",
        "Built LangGraph agents for explainable mode switching, improving comfort and energy efficiency."
      ],
      tags: ["hvac", "aws", "langgraph", "energy"]
    },
    {
      company: "L&T Technology Services",
      role: "Software Engineering Intern",
      timeline: "May 2024 – Aug 2024",
      location: "Peoria, Illinois",
      focus: "Game development for FS22 Farming Simulator, AWS infrastructure",
      highlights: [
        "Created six Farming Simulator game mods in Lua integrating real-time hardware inputs and C# server-client architecture over AWS.",
        "Built server-client architecture for a live sprayer cam for John Deere equipment integration."
      ],
      tags: ["simulation", "aws", "lua", "game", "game-dev"]
    },
    {
      company: "Nutanix",
      role: "Systems Reliability Engineer Intern",
      timeline: "Jan 2023 – Jun 2023",
      location: "India",
      focus: "Virtualization, networking",
      highlights: [
        "Diagnosed Nutanix AHV / VMware ESXi virtualization issues and tuned networking/routing for customer clusters."
      ],
      tags: ["virtualization", "networking"]
    },
    {
      company: "Invenger Technologies",
      role: "ML Engineer Intern",
      timeline: "May 2022 – Jul 2022",
      location: "India",
      focus: "Medical AI, ECG analysis",
      highlights: [
        "Developed ML method using residual neural networks to analyze Electrocardiogram signals and identify patient abnormalities.",
        "Successfully implemented system capable of identifying six different cardiac abnormalities from ECG data."
      ],
      tags: ["ml", "healthcare", "deep-learning", "ai"]
    },
    {
      company: "Siemens",
      role: "Computer Vision Intern",
      timeline: "Jul 2021 – Aug 2021",
      location: "India",
      focus: "OCR automation",
      highlights: [
        "Automated serial number recognition using OCR + PowerApps for 500+ devices per day on production lines."
      ],
      tags: ["computer-vision", "ocr"]
    }
  ],
  education: [
    {
      school: "New York University, Tandon School of Engineering",
      location: "New York, USA",
      program: "M.S. in Computer Engineering",
      timeline: "September 2023 – May 2025",
      gpa: "3.945/4.0",
      roles: [
        "Teaching Assistant for 'CS3083-Database Systems' (September 2024 – December 2024)",
        "Teaching Assistant for 'CS1122-Introduction to Computer Science' (January 2024 – Current)"
      ]
    },
    {
      school: "Manipal Institute of Technology",
      location: "Karnataka, India",
      program: "B.Tech. in Computer Science and Engineering",
      minor: "Machine Learning",
      timeline: "July 2019 – May 2023",
      gpa: "9.01/10.0"
    }
  ],
  certifications: [
    { name: "Google Cloud Professional Machine Learning Engineer", date: "Jul 2025" },
    { name: "Google Cloud Generative AI Leader", date: "Aug 2025" },
    { name: "AWS Machine Learning – Specialty", date: "Jul 2024" },
    { name: "NVIDIA Certified Associate – AI Infrastructure & Operations", date: "Oct 2025" },
    { name: "Cisco CCNA 200-301", date: "Feb 2023" }
  ],
  projects: [
    {
      title: "AI-mmunity",
      subtitle: "WINNER • Google Cloud AI Arena Hackathon",
      summary: "End-to-end community health and wellness monitoring platform for health officials and residents. Uses AI-driven insights + multi-agent (Google ADK) architecture for real-time public health monitoring, crowdsourced incident reporting (pollution, disease symptoms, food insecurity), and intelligent alerts/dashboards for faster intervention.",
      tags: ["agentic-ai", "ai", "health", "google-cloud", "personal", "adk"]
    },
    {
      title: "Enterprise Search & Connectors",
      summary: "ServiceNow, Aha!, and Snowflake connectors with ACL-aware governance for enterprise AI agents.",
      tags: ["connectors", "governance", "snowflake", "servicenow", "ai", "work"]
    },
    {
      title: "Snowflake NL2SQL Agent",
      summary: "Gemini Enterprise agent using schema profiling and value dictionaries for natural language analytics.",
      tags: ["snowflake", "nl2sql", "gemini", "gcp", "ai", "work"]
    },
    {
      title: "Interior Design Assistant",
      summary: "Agentic furniture recommender with image placement guidance and BigQuery embeddings scraped from the furniture catalog.",
      tags: ["vision", "recommendation", "adk", "ai", "ml", "work"]
    },
    {
      title: "USDM 4.0 Trial Extractor",
      summary: "LLM pipeline to perform smart extraction of clinical protocol documents into FDA-compliant USDM JSON with nested relations.",
      tags: ["healthcare", "llm", "etl", "ai", "work"]
    },
    {
      title: "Parallel LNDP Feature Extractor (CUDA)",
      summary: "Co-authored paper on O(1) time complexity algorithm for Local Neighbourhood Difference Pattern (LNDP) feature extraction, accelerating medical image analysis using GPU-based CUDA implementation. Tested on the LISS medical image dataset, achieving massive speedups for feature computation in diagnostic applications like epilepsy detection.",
      tags: ["cuda", "research", "medical-imaging", "academic", "ml", "personal"]
    },
    {
      title: "Spark-Based NLP Pipeline for Safe LLM Outputs",
      summary: "Distributed text analysis pipeline using Apache SparkML to detect hate speech and analyze sentiment in large-scale GPT outputs.",
      tags: ["spark", "nlp", "moderation", "academic", "ml", "ai", "personal"]
    },
    {
      title: "Real-time Parkinson's Tremor Detection System",
      summary: "Wearable device with STM32 and gyroscopic sensors to detect and classify Parkinsonian tremors in real time.",
      tags: ["iot", "embedded", "healthcare", "ml", "personal"]
    },
    {
      title: "RISC-V 5-Stage Pipeline Simulator",
      summary: "Register-based simulation of a 5-stage pipelined RISC-V processor focusing on instruction throughput and hazard mitigation.",
      tags: ["architecture", "simulation", "academic", "personal"]
    },
    {
      title: "GAN-VIX",
      summary: "Employed GANs (WGAN, ResNetGAN, AttentionGAN) to generate synthetic CBOE Volatility Index (VIX) data for financial modeling.",
      tags: ["gan", "finance", "academic", "ml", "ai", "personal"]
    },
    {
      title: "Predictive QoS for V2X Networks with Machine Learning",
      summary: "ML-based system that predicts mobile network performance for moving vehicles. Using real-world V2X data (signal metrics, GPS, speed, and environment), the model learns patterns in connectivity and forecasts future network quality to help fleets and smart vehicles anticipate low-signal zones, optimize routing, and maintain stable data flow during travel.",
      tags: ["networking", "ml", "academic", "ai", "personal"]
    },
    {
      title: "Optimized ResNet with SE Blocks",
      summary: "Custom ResNet with Squeeze-and-Excitation blocks trained on CIFAR-10 using advanced augmentation for improved generalization.",
      tags: ["cnn", "computer-vision", "academic", "ml", "ai", "personal"]
    },
    {
      title: "Bachman – Music Theory Game",
      summary: "Playable Pac-Man-style game teaching music note recognition, built in Lua using LÖVE2D and hosted on Firebase.",
      tags: ["game", "creative", "lua", "game-dev", "personal"]
    },
    {
      title: "AI-Driven PCAP Flow Analyzer",
      summary: "Web-based AI tool inspecting .pcap files and classifying network flows as normal or suspicious using LLMs.",
      tags: ["networking", "security", "ai", "llm", "personal"]
    },
    {
      title: "File Read Performance Benchmarking (C/C++)",
      summary: "Performance benchmarking framework evaluating cached vs. non-cached file reads using custom timing and Google Benchmark.",
      tags: ["performance", "c++", "academic", "personal"]
    },
    {
      title: "Neural Network from Scratch",
      summary: "Feedforward neural network implemented from first principles with manual forward/backward propagation in NumPy, verified with PyTorch.",
      tags: ["ml", "academic", "ai", "deep-learning", "personal"]
    },
    {
      title: "ATIS 2022 Conference Website",
      summary: "Developed official website for international conference on Applications and Techniques of Information Security in collaboration with senior professors from Deakin University, Australia. Built with CSS, JavaScript, HTML, and React.",
      tags: ["web-dev", "react", "conference", "personal"]
    },
    {
      title: "UberTower Portal for Nutanix",
      summary: "Backend developer in team of 5 building internal portal for Nutanix India to track SRE cases (open/resolved), employee status, leaves, birthdays, and other employee details. Tech stack: Git, Python, PHP, JSON, Java.",
      tags: ["backend", "python", "php", "work", "personal"]
    },
    {
      title: "Skin Lesion Classification using ML",
      summary: "Trained convolutional neural network using Keras on publicly available dermatoscopic image dataset. Focused on dataset sampling techniques to handle class imbalance and avoid model bias in medical diagnosis.",
      tags: ["ml", "healthcare", "keras", "cnn", "academic", "personal"]
    },
    {
      title: "Fingerprint Pre-processing for Forensics",
      summary: "Enhanced quality of dirty and partial fingerprint samples from forensic department of Kasturba Medical College, Manipal using OpenCV library, filtering techniques, and image processing.",
      tags: ["computer-vision", "opencv", "forensics", "academic", "personal"]
    }
  ],
  activities: [
    {
      category: "Music",
      items: [
        "Co-released three singles on Spotify with band 'The Brown House'",
        "Member of Chords & Co music club at Manipal Institute of Technology",
        "Conducted 4-day Rock Drumming workshop for juniors (January 2020)",
        "Grade 8 in Performing Text, Speech and Drama from Trinity College London"
      ]
    },
    {
      category: "Leadership & Sports",
      items: [
        "Captain of School's Table Tennis team (10th grade)",
        "Member of AIESEC (non-profit for leadership development)",
        "Taught underprivileged children about sustainable development (September 2019)",
        "Solely responsible for organizational formalities of ATIS conference with Deakin University (June 2022 - Present)"
      ]
    },
    {
      category: "Clubs & Societies",
      items: [
        "Member of official music club at Manipal Institute of Technology",
        "Member of coding club",
        "Active participant in AIESEC Manipal branch"
      ]
    }
  ],
  achievements: [
    {
      title: "Winner – Google Cloud Agentic AI Arena Hackathon",
      detail: "Team AI-mmunity won the Google Cloud Agentic AI Arena; presenting at Google Cloud Next '26. Built an end-to-end community health and wellness monitoring platform using ADK multi-agent orchestration.",
      link: { label: "LinkedIn announcement", url: "https://www.linkedin.com/posts/aashnakunk_googlecloud-agenticai-googlenext-activity-7392518400419278848-czk2" }
    },
    {
      title: "Manohar Parrikar Goa Scholars Award 2023",
      detail: "Recognized for academic excellence and contributions to technology with a $25,000 scholarship",
      link: null
    },
    {
      title: "Agent observability feedback",
      detail: "Partnered with Google's ADK team on a research survery for tracing, telemetry, and reliability features; authored internal observability guides.",
    }
  ],
  creative: {
    music: {
      summary: [
        "Multi-instrumentalist playing saxophone, piano, drums, flute, and occasionally guitar.",
        "Favorite genres: jazz, soul, and classic rock.",
        "Explore my covers on YouTube and Instagram reels."
      ],
      links: [
        { label: "YouTube Channel", url: "https://www.youtube.com/@aashnakunk" },
        { label: "Instagram Reels", url: "https://www.instagram.com/aashnakunk" },
        { label: "Music Page", url: "https://www.aashnakunk.com/music" }
      ]
    }
  },
  narratives: {
    agentic: [
      "Designed and deployed multi-agent AI systems on Google’s ADK and Gemini Enterprise (AgentSpace), orchestrating reasoning, tooling, and secure data flows for enterprise workloads.",
      "Architected pipelines on GCP (Vertex AI Pipelines, Cloud Run, Pub/Sub) covering orchestration, CI/CD, monitoring, and agent-to-agent coordination.",
      "Developed a multi-agent Interior Design Assistant combining BigQuery embeddings with catalog scraping for room-aware furniture placement.",
      "Built proof-of-concept agents including a conversational medical assistant (CCAI Playbooks) and a USDM clinical protocol extractor translating docs to FDA-compliant JSON.",
      "Partnered with Google’s ADK observability initiative to test tracing/telemetry and publish reliability feedback."
    ],
    data: [
      "Led discovery with enterprise clients to map data ecosystems and surface predictive ML opportunities tied to service intelligence.",
      "Built ACL-aware connectors for ServiceNow, Aha!, Snowflake plus configured native Jira/Confluence connectors in on-prem setups.",
      "Created governed Snowflake NL2SQL agents enforcing role-based access while serving analytics through ADK + Gemini Enterprise.",
      "Implemented Spark and AWS-backed pipelines for HVAC forecasting (BalanceAI) and QoS prediction with XGBoost on Berlin V2X data."
    ]
  },
  faqs: [
    {
      question: "What are Aashna’s strongest focus areas?",
      answer: [
        "Agentic AI on Google ADK/Gemi and LangGraph-based orchestration.",
        "Enterprise connectors and data governance for ServiceNow, Aha!, Snowflake.",
        "Cloud-native ML pipelines across GCP (Vertex AI, BigQuery) and AWS (SageMaker/Bedrock)."
      ],
      tags: ["focus", "strengths"]
    },
    {
      question: "Is Aashna open to relocation?",
      answer: [
        "Currently based between Dublin and the SF Bay Area.",
        "Open to US opportunities with hybrid flexibility; remote collaborations welcome."
      ],
      tags: ["relocation"]
    },
    {
      question: "What does Aashna do outside of work?",
      answer: [
        "Writes and performs music covers on YouTube/Instagram.",
        "Builds playful interactive tech—like this terminal and game mods—to keep experiments fun."
      ],
      tags: ["interests", "personal"]
    }
  ]
};

const SECTION_LINKS = KB.siteSections;
const SITE_URL = KB.socials.portfolio;

/* ========= 2) Minimal terminal shell ========= */
const term = document.getElementById('term');
const input = document.getElementById('input');
const clearBtn = document.getElementById('clearBtn');
const copyBtn = document.getElementById('copyLast');

let history = JSON.parse(localStorage.getItem('hist')||'[]');
let histIdx = history.length;
let lastAnswerMD = "";
let sessionLog = JSON.parse(localStorage.getItem('term_log')||'[]');

function escapeHTML(str){
  return (str||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
}

function printSys(text){ addLine(escapeHTML(text), 'sys'); }
function printUser(text){
  addLine(`<span class="prompt-tag">guest@aashnasportfolio:${currentPath}$</span>${escapeHTML(text)}`, 'user');
}
function printAssistant(md, opts={}){ addLine(renderMarkdown(md), 'assistant', opts); }
function updatePromptPrefix(){
  const prefix = document.querySelector('.prompt-prefix');
  if(prefix) prefix.textContent = `guest@aashnasportfolio:${currentPath}$`;
}
function persistLog(){ localStorage.setItem('term_log', JSON.stringify(sessionLog)); }

function addLine(text, cls='', opts={}){
  const div=document.createElement('div');
  div.className=`line ${cls}`.trim();
  term.appendChild(div);
  const scrollToBottom = ()=>{ term.scrollTop=term.scrollHeight; };
  if (opts.stream){
    div.classList.add('streaming');
    let idx=0;
    const logIndex = sessionLog.push({ cls, html: "" }) - 1;
    const interval=setInterval(()=>{
      div.innerHTML=text.slice(0, idx+1);
      sessionLog[logIndex].html = div.innerHTML;
      persistLog();
      idx++;
      if (idx>=text.length){
        clearInterval(interval);
        div.classList.remove('streaming');
      }
      scrollToBottom();
    }, opts.speed || 12);
  } else {
    div.innerHTML=text;
    sessionLog.push({ cls, html: text });
    persistLog();
    scrollToBottom();
  }
}
function clearTerm(){
  term.innerHTML='';
  sessionLog = [];
  persistLog();
  showWelcome();
  lastAnswerMD = "";
  input.focus();
}
function showWelcome(){
  printSys("Welcome to my Portfolio Terminal");
  printSys("Type `help` to see available commands.");
}
function renderMarkdown(md){
  let html = md
    .replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")
    .replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>')
    .replace(/`(.+?)`/g,'<code>$1</code>')
    .replace(/^- (.+)$/gm,'• $1');
  
  // First, convert markdown links [text](url)
  html = html.replace(/\[(.+?)\]\((https?:\/\/[^\s)]+)\)/g,'<a href="$2" target="_blank" rel="noopener">$1</a>');
  
  // Then, convert bare URLs that aren't already inside tags
  html = html.replace(/(?<!href="|">)(https?:\/\/[^\s<"]+)(?![^<]*<\/a>)/g,'<a href="$1" target="_blank" rel="noopener">$1</a>');
  
  return html;
}

function bullets(items){ return items.map(x=>`- ${x}`).join('\n'); }
function projectToLine(project){
  return `**${project.title}** — ${project.summary}`;
}
function experienceToLine(exp){
  const highlights = exp.highlights.slice(0,2).map(h=>`- ${h}`).join('\n');
  return `**${exp.role} — ${exp.company} (${exp.timeline})**\n${highlights}`;
}
function certificationLine(cert){ return `${cert.name} (${cert.date})`; }

function summarizeProfile(){
  return [
    `**${KB.profile.name}** — ${KB.profile.title}`,
    ...KB.profile.summary.map(line=>`- ${line}`),
    `- Based in ${KB.profile.location}`,
    `- [Portfolio](${KB.socials.portfolio}) • [GitHub](${KB.socials.github})`
  ].join('\n');
}

function searchProjects(query){
  const q = query.toLowerCase();
  return KB.projects.filter(p=>{
    const haystack = [p.title, p.summary, ...(p.tags||[])].join(" ").toLowerCase();
    return !q || haystack.includes(q);
  });
}

function searchExperience(query){
  const q = query.toLowerCase();
  return KB.experiences.filter(exp=>{
    const haystack = [exp.company, exp.role, exp.focus, ...(exp.tags||[])].join(" ").toLowerCase();
    return !q || haystack.includes(q);
  });
}

function achievementsAnswer(){
  const url = KB.siteSections.projects;
  const list = KB.achievements.map(item=>{
    const linkPart = item.link ? ` • [${item.link.label}](${item.link.url})` : "";
    return `- **${item.title}** — ${item.detail}${linkPart}`;
  }).join('\n');
  return [
    "**Achievements & highlights**",
    list,
    `- Portfolio overview: [${url}](${url})`
  ].join('\n');
}

function musicAnswer(){
  const music = KB.creative.music;
  return [
    "**Music & creative side**",
    bullets(music.summary),
    music.links.map(link=>`- [${link.label}](${link.url})`).join('\n')
  ].join('\n');
}

function agenticFocusAnswer(){
  return [
    "**Agentic focus**",
    bullets(KB.narratives.agentic),
    "",
    "**Representative builds**",
    searchProjects("agentic").slice(0,3).map(projectToLine).join('\n'),
    `- Agentic portfolio: [${KB.siteSections.projects}](${KB.siteSections.projects})`
  ].filter(Boolean).join('\n\n');
}

function dataFocusAnswer(){
  return [
    "**Data & connectors focus**",
    bullets(KB.narratives.data),
    "",
    "**Representative builds**",
    searchProjects("").slice(0,3).map(projectToLine).join('\n'),
    `- Data builds: [${KB.siteSections.projects}](${KB.siteSections.projects})`
  ].filter(Boolean).join('\n\n');
}

function keywordSearchAnswer(query){
  const tokens = (query.toLowerCase().match(/[a-z0-9]+/g) || []).filter(t=>t.length > 2);
  if (!tokens.length) return null;

  const matches = [];
  const scoreText = (text)=>{
    const lower = text.toLowerCase();
    return tokens.reduce((acc, token)=> acc + (lower.includes(token) ? 1 : 0), 0);
  };
  const addMatches = (items, label, formatter, textBuilder)=>{
    items.forEach(item=>{
      const score = scoreText(textBuilder(item));
      if (score > 0){
        matches.push({ label, score, formatted: formatter(item) });
      }
    });
  };

  addMatches(
    KB.projects,
    "Projects",
    projectToLine,
    item => `${item.title} ${item.summary} ${(item.tags||[]).join(" ")}`
  );
  addMatches(
    KB.experiences,
    "Experience",
    experienceToLine,
    item => `${item.company} ${item.role} ${item.focus} ${(item.highlights||[]).join(" ")} ${(item.tags||[]).join(" ")}`
  );
  addMatches(
    KB.achievements,
    "Achievements",
    item => `**${item.title}** — ${item.detail}`,
    item => `${item.title} ${item.detail}`
  );
  addMatches(
    KB.certifications,
    "Certifications",
    certificationLine,
    item => `${item.name} ${item.date}`
  );

  Object.entries(KB.narratives).forEach(([key, lines])=>{
    const label = key === "agentic" ? "Agentic perspective" : "Data perspective";
    const score = scoreText(lines.join(" "));
    if (score > 0){
      matches.push({ label, score, formatted: bullets(lines) });
    }
  });

  if (!matches.length) return null;

  matches.sort((a,b)=> b.score - a.score);
  const grouped = new Map();
  matches.forEach(match=>{
    if (!grouped.has(match.label)) grouped.set(match.label, []);
    grouped.get(match.label).push(match);
  });

  const sections = [];
  grouped.forEach((items, label)=>{
    const limit = label.includes("perspective") ? 1 : 3;
    const lines = items.slice(0, limit).map(m=>m.formatted).join('\n');
    sections.push(`**${label}**`);
    sections.push(lines);
  });

  sections.push(`- Explore more: [${KB.siteSections.projects}](${KB.siteSections.projects})`);
  return sections.filter(Boolean).join('\n\n');
}

function fallbackAnswer(question){
  const q = (question||"").toLowerCase();
  if(!q){
    return [
      summarizeProfile(),
      "",
      "**Try asking about:** projects, connectors, agentic AI, or music."
    ].join('\n');
  }

  if(q.includes("music") || q.includes("hobby") || q.includes("outside")){
    return musicAnswer();
  }

  if(q.includes("achievement") || q.includes("win") || q.includes("highlight")){
    return achievementsAnswer();
  }

  if(q.includes("ai arena") || q.includes("impact arena") || q.includes("ai-mmunity")){
    return [
      "**Google Cloud Agents for Impact Arena — AI-mmunity**",
      bullets([
        "Led the agentic layer on Google ADK, wiring in multi-agent orchestration and governance.",
        "Coordinated data flows, context routing, and evaluation loops to make the community wellness framework production-ready.",
        "Presented as a Top-5 finalist at Google Cloud Next ’26."
      ]),
      `- More: [${KB.siteSections.projects}](${KB.siteSections.projects})`
    ].join('\n');
  }

  if(q.includes("snowflake")){
    const projects = searchProjects("snowflake");
    const experiences = searchExperience("snowflake");
    return [
      "**Snowflake & data connectors**",
      bullets([
        "Built ACL-aware connectors for Snowflake, ServiceNow, and Aha! powering enterprise AI search.",
        "Designed NL2SQL agent on Gemini Enterprise with schema profiling + value dictionaries."
      ]),
      projects.map(projectToLine).join('\n'),
      experiences.map(experienceToLine).join('\n'),
      `- [Projects](${KB.siteSections.projects})`
    ].filter(Boolean).join('\n\n');
  }

  if(q.includes("agent") || q.includes("agentic") || q.includes("adk")){
    return agenticFocusAnswer();
  }

  if(q.includes("resume") || q.includes("experience") || q.includes("background")){
    const topExp = KB.experiences.slice(0,3).map(experienceToLine).join('\n\n');
    return [
      summarizeProfile(),
      "",
      topExp,
      `- Full resume: [${KB.siteSections.resume}](${KB.siteSections.resume})`
    ].join('\n');
  }

  if(q.includes("cert") || q.includes("certification")){
    return [
      "**Certifications**",
      bullets(KB.certifications.map(certificationLine)),
      `- [Resume](${KB.siteSections.resume})`
    ].join('\n');
  }

  if(q.includes("education") || q.includes("nyu") || q.includes("manipal")){
    return [
      "**Education**",
      bullets(KB.education.map(ed=>`${ed.school} — ${ed.program} (${ed.timeline})${ed.gpa?` • GPA ${ed.gpa}`:""}`)),
      `- [Academic timeline](${KB.siteSections.resume})`
    ].join('\n');
  }

  if(q.includes("relocation") || q.includes("location")){
    const faq = KB.faqs.find(f=>f.tags.includes("relocation"));
    return [
      "**Location & availability**",
      bullets(faq?.answer || []),
      `- Reach out: [Email](mailto:${KB.profile.email})`
    ].join('\n');
  }

  if(q.includes("data") || q.includes("connector") || q.includes("governance")){
    return dataFocusAnswer();
  }

  const keyword = keywordSearchAnswer(question);
  if (keyword) return keyword;

  const topProjects = searchProjects("").slice(0,3).map(projectToLine).join('\n');
  return [
    summarizeProfile(),
    "",
    "**Highlighted projects**",
    topProjects,
    `- Explore more: [${KB.siteSections.projects}](${KB.siteSections.projects})`
  ].join('\n');
}

/* ========= 3) Virtual Filesystem & Command routing ========= */
// Virtual filesystem state
let currentPath = '~';
const pathStack = [];

// Filesystem structure
const FS = {
  '~': {
    type: 'dir',
    contents: ['resume', 'projects', 'experience', 'education', 'skills', 'certs', 'music', 'blogs', 'achievements']
  },
  '~/resume': { type: 'file', data: 'resume' },
  '~/projects': {
    type: 'dir',
    contents: KB.projects.map(p => p.title.toLowerCase().replace(/[^a-z0-9]+/g, '-'))
  },
  '~/experience': {
    type: 'dir',
    contents: KB.experiences.map(e => e.company.toLowerCase().replace(/[^a-z0-9]+/g, '-'))
  },
  '~/education': {
    type: 'dir',
    contents: ['nyu-masters', 'manipalit-btech']
  },
  '~/education/nyu-masters': { type: 'file', data: 'education', education: KB.education[0] },
  '~/education/manipalit-btech': { type: 'file', data: 'education', education: KB.education[1] },
  '~/skills': { type: 'file', data: 'skills' },
  '~/certs': { type: 'file', data: 'certs' },
  '~/music': { type: 'file', data: 'music' },
  '~/blogs': { type: 'file', data: 'blogs' },
  '~/achievements': { type: 'file', data: 'achievements' }
};

// Add project files
KB.projects.forEach(p => {
  const slug = p.title.toLowerCase().replace(/[^a-z0-9]+/g, '-');
  FS[`~/projects/${slug}`] = { type: 'file', data: 'project', project: p };
});

// Add experience files
KB.experiences.forEach(e => {
  const slug = e.company.toLowerCase().replace(/[^a-z0-9]+/g, '-');
  FS[`~/experience/${slug}`] = { type: 'file', data: 'experience', experience: e };
});

// Command aliases (for backwards compatibility)
const ALIASES = {
  'whoami': 'resume',
  'about': 'resume',
  'work': 'experience',
  'jobs': 'experience',
  'wins': 'achievements',
  'awards': 'achievements',
  'write': 'blogs',
  'songs': 'music',
  'covers': 'music'
};

// Global pipe filter
let globalPipeFilter = null;

// Helper to apply pipe filter to output
function applyPipeFilter(text) {
  if (!globalPipeFilter || !text) return text;
  const lines = text.split('\n').filter(line => 
    line.toLowerCase().includes(globalPipeFilter)
  );
  return lines.length ? lines.join('\n') : `No results matching "${globalPipeFilter}"`;
}

// Override printAssistant to apply filter
const originalPrintAssistant = printAssistant;
function printAssistantFiltered(text) {
  originalPrintAssistant(applyPipeFilter(text));
}
 
async function handleCmd(raw){
    let cmd = raw.trim();
  if(!cmd) return;

  // Handle pipes (projects | grep keyword)
  globalPipeFilter = null;
  if (cmd.includes('|')) {
    const parts = cmd.split('|').map(p => p.trim());
    cmd = parts[0];
    const pipeCmd = parts[1];
    if (pipeCmd.startsWith('grep ')) {
      globalPipeFilter = pipeCmd.substring(5).trim().toLowerCase();
    }
  }

  
  history.push(raw); localStorage.setItem('hist', JSON.stringify(history)); histIdx = history.length;
  printUser(raw);

  let [head, ...rest] = cmd.split(' ');
  
  // Apply aliases
  if (ALIASES[head.toLowerCase()]) {
    head = ALIASES[head.toLowerCase()];
  }
  
  const q = rest.join(' ').trim();
  
  // Use filtered print function for this command
  const printAssistant = printAssistantFiltered;

  // Filesystem commands
  if (head === 'pwd') {
    printAssistant(`${currentPath}`);
    return;
  }

  if (head === 'ls') {
    const target = q || currentPath;
    const node = FS[target] || FS[currentPath];
    
    if (!node) {
      printAssistant(`ls: cannot access '${target}': No such file or directory`);
      return;
    }
    
    if (node.type === 'file') {
      printAssistant(target.split('/').pop());
      return;
    }
    
    if (node.type === 'dir') {
      const items = node.contents.map(item => {
        const fullPath = `${target === '~' ? '~' : target}/${item}`;
        const itemNode = FS[fullPath];
        return itemNode && itemNode.type === 'dir' ? `**${item}/**` : item;
      });
      printAssistant(items.join('\n'));
      
      // Show helpful tips based on current directory
      let tip = '';
      if (currentPath === '~' && !q) {
        tip = 'Tip: Directories end with /. Use `cd <directory>` to navigate, or `cat <file>` to view files';
      } else if (currentPath === '~/projects' || target === '~/projects') {
        tip = 'Tip: Use `cat <project-name>` to view project details, or try `projects --ml` for filtered view';
      } else if (currentPath === '~/experience' || target === '~/experience') {
        tip = 'Tip: Use `cat <company-name>` to view role details, or try `experience --ai` for filtered view';
      } else if (currentPath === '~/education' || target === '~/education') {
        tip = 'Tip: Use `cat <degree-name>` to view full academic details including GPA and roles';
      }
      
      if (tip) {
        printSys(tip);
      }
      return;
    }
  }

  if (head === 'cd') {
    if (!q || q === '~') {
      currentPath = '~';
      updatePromptPrefix();
      printAssistant('');
      return;
    }
    
    if (q === '..' || q === '../') {
      const parts = currentPath.split('/');
      if (parts.length > 1) {
        parts.pop();
        currentPath = parts.join('/') || '~';
      }
      updatePromptPrefix();
      printAssistant('');
      return;
    }
    
    // Absolute path
    if (q.startsWith('~/')) {
      if (FS[q]) {
        if (FS[q].type === 'dir') {
          currentPath = q;
          updatePromptPrefix();
          
          // Show helpful hint for directories
          let hint = '';
          if (q === '~/projects') {
            hint = 'Tip: Use `ls` to see all projects, then `cat <project-name>` to view details';
          } else if (q === '~/experience') {
            hint = 'Tip: Use `ls` to see all roles, then `cat <company-name>` to view details';
          } else if (q === '~/education') {
            hint = 'Tip: Use `ls` to see degrees, then `cat <degree-name>` to view details';
          }
          
          if (hint) {
            printSys(hint);
          } else {
            printAssistant('');
          }
        } else {
          printAssistant(`cd: not a directory: ${q}`);
        }
      } else {
        printAssistant(`cd: no such file or directory: ${q}`);
      }
      return;
    }
    
    // Relative path
    const targetPath = currentPath === '~' ? `~/${q}` : `${currentPath}/${q}`;
    if (FS[targetPath]) {
      if (FS[targetPath].type === 'dir') {
        currentPath = targetPath;
        updatePromptPrefix();
        
        // Show helpful hint for directories
        let hint = '';
        if (targetPath === '~/projects') {
          hint = 'Tip: Use `ls` to see all projects, then `cat <project-name>` to view details';
        } else if (targetPath === '~/experience') {
          hint = 'Tip: Use `ls` to see all roles, then `cat <company-name>` to view details';
        } else if (targetPath === '~/education') {
          hint = 'Tip: Use `ls` to see degrees, then `cat <degree-name>` to view details';
        }
        
        if (hint) {
          printSys(hint);
        } else {
          printAssistant('');
        }
      } else {
        printAssistant(`cd: not a directory: ${q}`);
      }
    } else {
      printAssistant(`cd: no such file or directory: ${q}`);
    }
    return;
  }

  if (head === 'cat') {
    if (!q) {
      printAssistant('cat: missing file operand');
      return;
    }
    
    // Resolve path
    let targetPath = q;
    if (!q.startsWith('~/')) {
      targetPath = currentPath === '~' ? `~/${q}` : `${currentPath}/${q}`;
    }
    
    const node = FS[targetPath];
    if (!node) {
      printAssistant(`cat: ${q}: No such file or directory`);
      return;
    }
    
    if (node.type === 'dir') {
      printAssistant(`cat: ${q}: Is a directory`);
      return;
    }
    
    // Handle different file types
    if (node.data === 'project') {
      const p = node.project;
      const body = [
        `**${p.title}**`,
        p.subtitle ? `*${p.subtitle}*` : '',
        '',
        p.summary,
        '',
        p.tags ? `**Tags:** ${p.tags.join(', ')}` : '',
        '',
        `**More:** [View all projects](${KB.siteSections.projects})`
      ].filter(Boolean).join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      printSys('Tip: Use `cd ..` to go back, or `ls` to see other projects. Try `projects | grep <keyword>` to filter!');
      return;
    }
    
    if (node.data === 'experience') {
      const e = node.experience;
      const body = [
        `**${e.role} — ${e.company}**`,
        `${e.timeline} | ${e.location}`,
        '',
        `**Focus:** ${e.focus}`,
        '',
        '**Highlights:**',
        bullets(e.highlights),
        '',
        e.tags ? `**Tags:** ${e.tags.join(', ')}` : '',
        '',
        `**More:** [View full resume](${KB.siteSections.resume})`
      ].filter(Boolean).join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      printSys('Tip: Use `cd ..` to go back, or try `experience --ml` to see ML-focused roles');
      return;
    }
    
    if (node.data === 'education') {
      const edu = node.education;
      const body = [
        `**${edu.school}**`,
        edu.location,
        '',
        `**${edu.program}**`,
        edu.minor ? `Minor: ${edu.minor}` : '',
        `${edu.timeline}`,
        `**GPA:** ${edu.gpa}`,
        '',
        edu.roles ? '**Roles:**' : '',
        edu.roles ? bullets(edu.roles) : ''
      ].filter(Boolean).join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      printSys('Tip: Use `cd ..` to go back, or `education` to see all degrees at once');
      return;
    }
    
    // For other files, route to original commands
    if (node.data === 'resume') {
      // Call original resume logic
      const body = [
        `**${KB.profile.name}** — ${KB.profile.title}`,
        bullets(KB.profile.summary.map(s => s)),
        `- Based in ${KB.profile.location}`,
        `- [Portfolio](${KB.socials.portfolio}) • [GitHub](${KB.socials.github})`,
        '',
        '**Recent experience**',
        ...KB.experiences.slice(0,2).map(experienceToLine),
        '',
        '**Education**',
        bullets(KB.education.map(ed => `${ed.school} — ${ed.program} (${ed.timeline})`)),
        '',
        '*Disclaimer: This is just a snapshot. Please visit the link below for full details.*',
        '',
        `- Full resume: [${KB.siteSections.resume}](${KB.siteSections.resume})`,
        `- Portfolio: [${KB.socials.portfolio}](${KB.socials.portfolio})`
      ].join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      printSys('Tip: Try `experience` for full work history, `education` for degrees, or `skills` for tech stack');
      return;
    }
    
    if (node.data === 'skills') {
      const sk = KB.skills;
      const body = [
        "**Skills & stacks**",
        `- Languages: ${sk.languages.join(', ')}`,
        `- ML & Agents: ${sk.ml.join(', ')}`,
        `- Cloud & Data: ${sk.cloud.join(', ')}`,
        `- Focus areas: ${sk.domains.join(', ')}`,
        `- [Portfolio](${SECTION_LINKS.home})`
      ].join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      return;
    }
    
    if (node.data === 'certs') {
      const body = [
        "**Certifications**",
        bullets(KB.certifications.map(certificationLine)),
        `- Details: [${SECTION_LINKS.resume}](${SECTION_LINKS.resume})`
      ].join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      return;
    }
    
    if (node.data === 'music') {
      const music = KB.creative.music;
      const body = [
        "**Music & creative side**",
        bullets(music.summary),
        music.links.map(link => `- [${link.label}](${link.url})`).join('\n')
      ].join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      return;
    }
    
    if (node.data === 'blogs') {
      const body = [
        "**Blogs & writing**",
        `- Portfolio blogs: [${KB.siteSections.blogs}](${KB.siteSections.blogs})`,
        `- Medium: [${KB.socials.medium}](${KB.socials.medium})`,
        '',
        'Topics: RAG pipelines, agentic AI, enterprise search, LLM observability, cloud ML'
      ].join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      return;
    }
    
    if (node.data === 'achievements') {
      const body = [
        "**Achievements & milestones**",
        bullets(KB.achievements.map(a => `**${a.title}**${a.year ? ` (${a.year})` : ''}: ${a.detail}${a.link ? ` — [${a.link.label}](${a.link.url})` : ''}`))
      ].join('\n');
      lastAnswerMD = body;
      printAssistant(body);
      return;
    }
    
  }

  if (head === 'man') {
    if (!q) {
      printAssistant("Usage: man <command>\nExample: man projects");
      return;
    }
    const manPages = {
      projects: `**man projects**
Usage: projects [--flag]
Flags:
  --work              Work/professional projects (connectors, agents, etc.)
  --personal          Personal & academic projects
  --ml, --ai          Machine learning & AI projects
  --academic          Academic research projects
  --networking        Network-related projects
  --game, --creative  Creative & game projects
  (or any keyword)    Filter by keyword in title/tags
Examples: 
  projects --work
  projects | grep snowflake    (filter output for "snowflake")`,
      resume: `**man resume**
Usage: resume
Displays a snapshot of roles, education, and certifications with links to full resume.
Example: resume | grep google    (filter for Google mentions)`,
      achievements: `**man achievements**
Usage: achievements
Lists key wins, awards, and milestones with relevant links.
Example: achievements | grep arena    (filter for arena mentions)`,
      experience: `**man experience**
Usage: experience [--flag]
Flags:
  --ml, --ai          Machine learning & AI roles
  --game              Game development roles
  --aws, --gcp        Cloud infrastructure roles
  (or any keyword)    Filter by keyword in company/role/tags
Examples:
  experience --game
  experience | grep agent    (filter for "agent" mentions)`,
      linkedin: `**man linkedin**
Usage: linkedin
Opens LinkedIn profile in a new tab.`,
      open: `**man open**
Usage: open <section>
Sections: home | about | projects | blogs | resume | music | contact
Example: open projects`,
      music: `**man music**
Usage: music
Displays creative outlets and music links.
Example: music | grep cover    (filter for covers)`,
      skills: `**man skills**
Usage: skills
Lists core technical stacks and focus areas.
Example: skills | grep python    (filter for Python mentions)`,
      certs: `**man certs**
Usage: certs
Shows recent certifications.
Example: certs | grep aws    (filter for AWS certs)`,
      blogs: `**man blogs**
Usage: blogs
Displays portfolio blog links and Medium profile.
Example: blogs | grep rag    (filter for RAG-related blogs)`,
      clear: `**man clear**
Usage: clear
Clears the terminal output. Shortcut: Ctrl+L`,
      help: `**man help**
Usage: help
Shows all available commands, shortcuts, and aliases.
Tip: All commands support piping with grep (e.g., resume | grep aws)`,
      ls: `**man ls**
Usage: ls [path]
Lists contents of current directory or specified path.
Directories are shown in **bold/** format.
Examples:
  ls              (list current directory)
  ls projects     (list projects directory)
  ls ~/experience (list experience directory)`,
      cd: `**man cd**
Usage: cd <directory>
Changes the current working directory.
Special paths:
  cd ~            Go to home directory
  cd ..           Go up one directory
  cd projects     Go to projects directory
Examples:
  cd projects
  cd ~/experience
  cd ..`,
      pwd: `**man pwd**
Usage: pwd
Prints the current working directory path.`,
      cat: `**man cat**
Usage: cat <file>
Displays the contents of a file.
Examples:
  cat resume
  cat searce                    (from ~/experience directory)
  cat ai-mmunity                (from ~/projects directory)
  cat resume | grep google      (with grep filter)`,
      education: `**man education**
Usage: education
Displays academic background, degrees, GPA, and teaching roles.
Navigate: cd education → ls → cat nyu-masters`,
      contact: `**man contact**
Usage: contact | email | hire
Displays contact information with clickable email link (mailto).
Also shows LinkedIn and portfolio links.
Aliases: email, hire`
    };
    const page = manPages[q.toLowerCase()];
    if (page) {
      lastAnswerMD = page;
      printAssistant(page);
    } else {
      printAssistant(`No manual entry for '${q}'.\nTry: man projects, man resume, man open, etc.`);
    }
    return;
  }

  if (head === 'help' || head === '?') {
    const helpText = `Available commands:

**Filesystem navigation:**
- ls [path]             — List directory contents (directories shown in **bold/**)
- cd <dir>              — Change directory (cd projects, cd .., cd ~)
- pwd                   — Print working directory
- cat <file>            — Display file contents

**Quick commands:**
- resume                — Snapshot of roles, education, certs.
- projects [--flag]     — Project highlights. Use --work, --personal, --ml, etc.
- experience [--flag]   — Filter roles (e.g., experience --game).
- education             — Academic background & teaching roles.
- music                 — Covers & YouTube links.
- certs                 — Recent certifications.
- achievements          — Key wins & milestones.
- blogs                 — Portfolio blogs & Medium profile.
- linkedin              — Open LinkedIn profile.
- skills                — Core stacks & focus areas.
- contact               — Let's get in touch!
- open <section>        — home | about | projects | blogs | resume | music | contact
- activities            — Music, leadership, sports & clubs (college).
- clear                 — Clear the terminal.
- man <command>         — Show detailed usage for a command.

**Shortcuts:**
- Tab                   — Autocomplete commands (proj + Tab → projects)
- Ctrl+R                — Search command history (fuzzy search)
- Ctrl+L                — Clear screen
- | grep <keyword>      — Filter any output (e.g., projects | grep ml)

**Try this:** ls → cd projects → ls → cat <project-name>

Tip: All commands support piping. Try "resume | grep google" or "cat resume | grep aws".`;
    lastAnswerMD = helpText;
    printAssistant(helpText);
    return;
  }
  if (head === 'clear' || (head==='cls')) { clearTerm(); return; }

  if (head === 'open') {
    if (!q) { printAssistant("Usage: open <home|about|projects|blogs|resume|music|contact>"); return; }
    const key = q.toLowerCase();
    const url = SECTION_LINKS[key] || SITE_URL;
    window.open(url, '_blank');
    printAssistant(`Opening <${url}>`);
    return;
  }

  if (head === 'resume') {
    const summary = [
      summarizeProfile(),
      "",
      "**Recent experience**",
      KB.experiences.slice(0,2).map(experienceToLine).join('\n\n'),
      "",
      "**Education**",
      bullets(KB.education.map(ed=>`${ed.school} — ${ed.program} (${ed.timeline})`)),
      "",
      "*Disclaimer: This is just a snapshot. Please visit the link below for full details.*",
      "",
      `- Full resume: [${SECTION_LINKS.resume}](${SECTION_LINKS.resume})`,
      `- Portfolio: [${SITE_URL}](${SITE_URL})`
    ].join('\n');
    lastAnswerMD = summary;
    printAssistant(summary);
    printSys('Tip: Try `experience` for full work history, `education` for degrees, or `skills` for tech stack');
    return;
  }

  if (head === 'achievements' || head === 'wins') {
    const body = achievementsAnswer();
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }


  if (head === 'agentic') {
    const body = agenticFocusAnswer();
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }

  if (head === 'data') {
    const body = dataFocusAnswer();
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }

  if (head === 'music') {
    const body = musicAnswer();
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }

  if (head === 'education') {
    const body = [
      "**Education**",
      '',
      ...KB.education.map(edu => [
        `**${edu.school}** | ${edu.location}`,
        `${edu.program}${edu.minor ? ` (Minor: ${edu.minor})` : ''}`,
        `${edu.timeline} • GPA: ${edu.gpa}`,
        edu.roles ? bullets(edu.roles) : '',
        ''
      ].filter(Boolean).join('\n')),
      `**More:** [View full resume](${KB.siteSections.resume})`
    ].join('\n');
    lastAnswerMD = body;
    printAssistant(body);
    printSys('Tip: Use `cd education` to explore individual degrees, or `cat nyu-masters` for detailed info');
    return;
  }

  if (head === 'linkedin') {
    window.open(KB.socials.linkedin, '_blank');
    printAssistant(`Opening LinkedIn: [${KB.socials.linkedin}](${KB.socials.linkedin})`);
    return;
  }
  
  if (head === 'contact' || head === 'email' || head === 'hire') {
    const subject = encodeURIComponent('Opportunity from Terminal Resume');
    const body = encodeURIComponent('Hi Aashna,\n\nI came across your terminal resume and would love to discuss...\n\n');
    const mailtoLink = `mailto:${KB.profile.email}?subject=${subject}&body=${body}`;
    
    printAssistant(`**Let's connect!**

**Email:** [${KB.profile.email}](${mailtoLink})

Other ways to reach me:
- LinkedIn: [${KB.socials.linkedin}](${KB.socials.linkedin})
- Portfolio: [${KB.socials.portfolio}](${KB.socials.portfolio})

Looking forward to hearing from you!`);
    return;
  }

  if (head === 'projects') {
    const filter = q.toLowerCase().replace(/^--/, '');
    const projects = searchProjects(filter).slice(0,8);
    if (!projects.length){
      printAssistant("No projects matched that filter. Try --work, --personal, --ml, or another keyword.");
      return;
    }
    const body = [
      `**Projects${filter?` • ${filter}`:""}**`,
      projects.map(projectToLine).join('\n'),
      `- More: [${SECTION_LINKS.projects}](${SECTION_LINKS.projects})`
    ].join('\n');
    lastAnswerMD = body;
    printAssistant(body);
    printSys('Tip: Try `cd projects` to browse all projects, or use `projects | grep <keyword>` to filter results');
    return;
  }

  if (head === 'experience') {
    const filter = q.toLowerCase().replace(/^--/, '');
    const roles = searchExperience(filter).slice(0,4);
    if (!roles.length){
      printAssistant("No roles matched that filter. Try --game, --ml, --aws, or any keyword.");
      return;
    }
    const body = [
      `**Experience${filter?` • ${filter}`:""}**`,
      roles.map(experienceToLine).join('\n\n'),
      `- Full resume: [${SECTION_LINKS.resume}](${SECTION_LINKS.resume})`
    ].join('\n');
    lastAnswerMD = body;
    printAssistant(body);
    printSys('Tip: Navigate with `cd experience` to explore roles, or try `experience --ml` for ML-focused positions');
    return;
  }

  if (head === 'blogs') {
    const body = [
      "**Blogs & writing**",
      `- Portfolio blogs: [${SECTION_LINKS.blogs}](${SECTION_LINKS.blogs})`,
      `- Medium: [${KB.socials.medium}](${KB.socials.medium})`
    ].join('\n');
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }

  if (head === 'skills') {
    const sk = KB.skills;
    const body = [
      "**Skills & stacks**",
      `- Languages: ${sk.languages.join(', ')}`,
      `- ML & Agents: ${sk.ml.join(', ')}`,
      `- Cloud & Data: ${sk.cloud.join(', ')}`,
      `- Focus areas: ${sk.domains.join(', ')}`,
      `- [Portfolio](${SECTION_LINKS.home})`
    ].join('\n');
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }

  if (head === 'certs' || head === 'certifications') {
    const body = [
      "**Certifications**",
      bullets(KB.certifications.map(certificationLine)),
      `- Details: [${SECTION_LINKS.resume}](${SECTION_LINKS.resume})`
    ].join('\n');
    lastAnswerMD = body;
    printAssistant(body);
    return;
  }
  // Fallback: keyword-based answer
  const answer = fallbackAnswer(cmd);
  lastAnswerMD = answer;
  printAssistant(answer);
}

/* ========= 4) Wire up UI ========= */
const ALL_COMMANDS = ['help', 'ls', 'cd', 'pwd', 'cat', 'projects', 'resume', 'education', 'achievements', 
  'blogs', 'music', 'linkedin', 'experience', 'skills', 'certs', 'contact', 'email', 
  'hire', 'open', 'clear', 'man', 'whoami', 'work', 'wins'];

function autocomplete(partial) {
  const input = partial.trim();
  const parts = input.split(' ');
  
  // If it's just a command, autocomplete commands
  if (parts.length === 1) {
    const matches = ALL_COMMANDS.filter(cmd => cmd.startsWith(input.toLowerCase()));
    return matches.length === 1 ? matches[0] : null;
  }
  
  // If it's "cd <partial>" or "cat <partial>", autocomplete paths
  const cmd = parts[0].toLowerCase();
  if ((cmd === 'cd' || cmd === 'cat') && parts.length === 2) {
    const pathPartial = parts[1].toLowerCase();
    const node = FS[currentPath];
    
    if (node && node.type === 'dir') {
      const matches = node.contents.filter(item => item.startsWith(pathPartial));
      if (matches.length === 1) {
        return `${cmd} ${matches[0]}`;
      }
    }
  }
  
  return null;
}

function showHistorySearch() {
  const overlay = document.createElement('div');
  overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:9999;';
  
  const box = document.createElement('div');
  box.style.cssText = 'background:#0e1419;border:1px solid rgba(243,209,150,0.3);border-radius:12px;padding:20px;width:min(600px,90vw);max-height:400px;overflow:auto;';
  
  const searchInput = document.createElement('input');
  searchInput.placeholder = 'Search command history...';
  searchInput.style.cssText = 'width:100%;background:#0b1116;border:1px solid rgba(243,209,150,0.2);color:var(--text);padding:10px;border-radius:8px;font:18px "Courier Prime",monospace;margin-bottom:12px;';
  
  const resultsList = document.createElement('div');
  resultsList.style.cssText = 'max-height:300px;overflow:auto;';
  
  const renderResults = (query) => {
    const filtered = history.filter(h => h.toLowerCase().includes(query.toLowerCase())).reverse().slice(0,10);
    resultsList.innerHTML = filtered.map((h, i) => 
      `<div style="padding:8px;cursor:pointer;border-radius:6px;margin:4px 0;background:${i===0?'rgba(243,209,150,0.1)':'transparent'}" data-cmd="${h.replace(/"/g,'&quot;')}">${escapeHTML(h)}</div>`
    ).join('') || '<div style="color:var(--muted);padding:8px;">No matches</div>';
  };
  
  searchInput.addEventListener('input', (e) => renderResults(e.target.value));
  searchInput.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      overlay.remove();
      input.focus();
    } else if (e.key === 'Enter') {
      const first = resultsList.querySelector('[data-cmd]');
      if (first) {
        input.value = first.getAttribute('data-cmd');
        overlay.remove();
        input.focus();
      }
    }
  });
  
  resultsList.addEventListener('click', (e) => {
    const cmd = e.target.getAttribute('data-cmd');
    if (cmd) {
      input.value = cmd;
      overlay.remove();
      input.focus();
    }
  });
  
  box.append(searchInput, resultsList);
  overlay.appendChild(box);
  document.body.appendChild(overlay);
  
  renderResults('');
  searchInput.focus();
  
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) {
      overlay.remove();
      input.focus();
    }
  });
}

input.addEventListener('keydown', (e)=>{
  if (e.key === 'Enter') {
    const v = input.value;
    handleCmd(v).finally(()=>{ input.value=''; });
  } else if (e.key === 'Tab') {
    e.preventDefault();
    const completed = autocomplete(input.value);
    if (completed) {
      input.value = completed;
    }
  } else if (e.key === 'r' && (e.ctrlKey || e.metaKey)) {
    e.preventDefault();
    showHistorySearch();
  } else if (e.key === 'l' && (e.ctrlKey || e.metaKey)) {
    e.preventDefault();
    clearTerm();
  } else if (e.key === 'ArrowUp') {
    e.preventDefault();
    if (histIdx > 0) { histIdx--; input.value = history[histIdx] || ''; setTimeout(()=>input.setSelectionRange(input.value.length, input.value.length)); }
  } else if (e.key === 'ArrowDown') {
    e.preventDefault();
    if (histIdx < history.length-1) { histIdx++; input.value = history[histIdx] || ''; } else { histIdx = history.length; input.value=''; }
  } else if (e.key === 'Escape') {
    input.focus();
  }
});
clearBtn.addEventListener('click', ()=>{
  clearTerm();
  input.focus();
});
copyBtn.addEventListener('click', ()=>{
  if (!lastAnswerMD) { printSys("nothing to copy yet."); input.focus(); return; }
  navigator.clipboard.writeText(lastAnswerMD)
    .then(()=>printSys("copied."), ()=>printSys("copy failed."))
    .finally(()=>input.focus());
});
window.addEventListener('load', ()=>{
  input.focus();
  if (sessionLog.length){
    sessionLog.forEach(entry=>{
      const div=document.createElement('div');
      div.className=`line ${entry.cls}`.trim();
      div.innerHTML=entry.html;
      term.appendChild(div);
    });
    term.scrollTop=term.scrollHeight;
  } else {
  showWelcome();
  }
});
</script>
</body>
</html>





